{% extends 'blocks.html' %}
{% load humanize %}

{% block extra-css %}
    {{ block.super }}
    <style type="text/css">
        table {
            font-size:13px;
        }
    </style>
{% endblock %}


{% block content %}
<div class="row-fluid header">
    <div class="span7">
        <h1>Mapping L.A. Boundaries API</h1>
    </div>
</div>

<div class="navbar">
  <div class="navbar-inner">
    <ul class="nav">
      <li><a href="/">Finder</a></li>
      <li class="active"><a href="/sets/">Data sets</a></li>
      <li><a href="/about/">About</a></li>
    </ul>
  </div>
</div>

<div class="row-fluid">
    <div class="span12">
        <h3>{{ object_list|length }} data set{{ object_list|length|pluralize }} from 
            {{ source_count|intcomma }} sources with {{ feature_count|intcomma }} features.</h3>
    </div>
</div>

<div class="row-fluid">
    <table class="span12 table table-bordered">
        <thead>
            <tr>
                <th>Name</th>
                <th>Source</th>
                <th>Features</th>
                <th>Domain</th>
                <th>Schema</th>
                <th>Bulk downloads</th>
            </tr>
        </thead>
        <tbody>
        {% for obj in object_list %}
        <tr>
            <td>
                <a href="{% url 'api-boundaryset-detail' obj.slug %}">
                    {{ obj }}
                </a>
            </td>
            <td>
                    {% if obj.href %}<a href="{{ obj.href }}">{% endif %}
                        {{ obj.authority }}
                    {% if obj.href %}</a>{% endif %}
            </td>
            <td>{{ obj.count|intcomma }}</td>
            <td>{{ obj.domain }}</td>
            <td>
                <a href="/1.0/boundary-set/{{ obj.slug }}/">JSON</a>
            </td>
            <td>
                <a href="/1.0/boundary-set/{{ obj.slug }}/?format=geojson">GeoJSON</a>, 
                <a href="/1.0/boundary-set/{{ obj.slug }}/?format=kml">KML</a>,
                <a href="/1.0/boundary-set/{{ obj.slug }}/?format=shp">SHP</a>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
